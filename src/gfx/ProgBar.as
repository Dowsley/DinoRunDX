package gfx {		import flash.display.MovieClip;		import fx.ColorChange;		import gfx.Marker;		public class ProgBar extends DinoClip {				var markers:Object;		var lvlL:Number;		var brain:Object;				public function nulls() {						for each (var m:Object in markers) { m.ref=null; m.mark=null; m=null }			markers=null;					}				public function ProgBar (dino,rmDinos):void {						assignGFX(new _ProgBar);			markers={};			brain=dino.brain;						//plot markers			for (var dnID in rmDinos) {								markers[dnID]={};				markers[dnID].ref=rmDinos[dnID];				markers[dnID].mark=new Marker();								//marker color				var cc = new ColorChange (markers[dnID].mark.marker);				var cA:Array=dino.brain.interF.dColors[markers[dnID].ref.o.clr].body;				cc.cChange ([cA[0],cA[1],cA[2],0,0,0,1]);				cc.nulls();				markers[dnID].mark.you.visible=false;				addChild (markers[dnID].mark);							}						markers.dino={};			markers.dino.ref=dino;			markers.dino.mark=new Marker();						//marker color			var cc2 = new ColorChange (markers.dino.mark.marker);			var cA2:Array=dino.brain.interF.dColors[markers.dino.ref.o.clr].body;			cc2.cChange ([cA2[0],cA2[1],cA2[2],0,0,0,1]);			cc2.nulls();							addChild (markers.dino.mark);						//level length			lvlL=dino.brain.world.xMax*-1;		}				public function removeMarker (id) {						removeChild (markers[id].mark);			markers[id].mark=null;			markers[id].ref=null;			delete markers[id];					}				public function doom (id) {						if (markers[id]!=undefined) {							markers[id].mark.you.visible=true;				markers[id].mark.you.gotoAndPlay (50);							}					}				public function doom2 () {						markers.dino.mark.you.visible=true;			markers.dino.mark.you.gotoAndPlay (50);					}							public function main ():void {						var factor:int=720;			switch (brain.VAR) {								case "MJ": factor=570; break;				case "KG": factor=620; break;				case "700": factor=620; break;				case "WR": factor=620; break;				case "SP": factor=620; break;				case "BF": factor=620; break;				case "600": factor=520; break;				case "SS": factor=520; break;							}			for each (var m:Object in markers) { m.mark.x=(m.ref.x/lvlL)*factor }			markers.dino.mark.x=(markers.dino.ref.x/lvlL)*factor;					}				public function remove() {						for (var id in markers) {								removeChild (markers[id].mark);				markers[id].mark=null;				markers[id].ref=null;				delete markers[id];						}						}			}	}