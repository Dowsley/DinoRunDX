package gfx {		import flash.display.MovieClip;	import flash.geom.Point;		import supers.MovingClip;		public class Fish extends MovingClip {				public var pData:Object;		private var dir:String;		private var landY:Number;		private var jumping:Boolean=false;				override public function nulls() {						super.nulls();			pData=null;					}		public function Fish (o,brain):void {						//init			assignGFX(new _Fish);			init (o,brain,this);						//gravity			ph.sh="circ";			ph.g = 0;					//dir			dir = (rand(0,1)==0)?"L":"R";			graphic.gotoAndStop (dir);						//vel			vel.x=(dir=="R")?2.5:-2.5;			vel.y=0;						//pData			pData = { rFactor:1.15, rTime:250, jPow:1.15, jTime:500, score:50 }							if (brain.S.gh) {				graphic.alpha = .25;			}					}				public function main ():void {						//jump?			if (rand(0,50)==0&&!jumping) {								jumping=true;				vel.x=0;				vel.y=rand2(-7,-5);				ph.g=.3;				landY=pos.y;				body.gotoAndStop ("jump");								//splash				var l=rand2(5,12);				for (var i:uint=1; i<l; i++) { brain.create ({nam:"Water", px:pos.x+rand2(-10,10), py:pos.y-12, vx:rand2(-4,4), vy:rand(-4,0), depth:["world","main"]}) }						}						//run functions common to all MovingClips			mainMC ();						if (jumping) {												if (pos.y>landY) {										//land					pos.y=landY;					jumping=false;					body.gotoAndPlay ("swim");										//dir					dir = (rand(0,1)==0)?"L":"R";					graphic.gotoAndStop (dir);								//vel					vel.x=(dir=="R")?2.5:-2.5;					vel.y=0;					ph.g=0;										//splash					var ll=rand2(5,12);					for (var j:uint=1; j<ll; j++) { brain.create ({nam:"Water", px:pos.x+rand2(-10,10), py:pos.y-12, vx:rand2(-4,4), vy:rand(-4,0), depth:["world","doomBG"]}) }								}							} else {								//adjust velocity				if (rand(0,20)==0) { vel.offset (rand2(-.5,.5),0) }							//rev?				if (rand(0,100)==0) { hitWall(2) };							}								}				// REACTIONS		public function hitWall (obj) {						dir=(dir=="R")?"L":"R";			graphic.gotoAndStop (dir);			vel.x=(dir=="R")?2.5:-2.5;					}				public function eaten (obj) {						deleteAll();					}			}	}