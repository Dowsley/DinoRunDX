package fx {		import flash.display.MovieClip;		public class SpeedBoost {				private var clip:MovieClip;		private var cMax:uint;		private var c:int=0;		private var accelDec:Number;						public function SpeedBoost (clip:MovieClip,factor,cMax):void {						this.clip=clip;			this.cMax=cMax;			clip.accelMax=clip.accelMaxBase=clip.accelMaxBase*factor;			clip.accelF=clip.accelFBase=clip.accelFBase*factor;			accelDec=(clip.accelMaxBase-clip.accelMaxOrig)/(cMax/2);		}				public function main () {						c++;						//sparkles			if (clip.near) { if (Math.random()<(clip.accelMax-.9)) {								var dirA=(Math.random()<.5)?[[0,-1],[1,0],[0,1],[-1,0]]:[[.65,-.65],[.65,.65],[-.65,.65],[-.65,-.65]];				for (var i:int=0; i<4; i++) { 									clip.brain.create ( {nam:"DotFX", colr:"Y", alph:.75, c:30, velA:.95, px:clip.x, py:clip.y+clip.ph.r, vx:dirA[i][0], vy:dirA[i][1], depth:["world","main"]} ) ;									}							} }						if (c>(cMax/2)) { clip.accelMax=clip.accelMaxBase=clip.accelMaxOrig+accelDec*(cMax-c) }			if (c>=cMax) { remove() }					}				public function addOn (factor,time) {						if (clip.accelMaxOrig*factor>clip.accelMaxBase) { clip.accelMaxBase = clip.accelMaxOrig*factor}			cMax+=time*.75;			accelDec=(clip.accelMaxBase-clip.accelMaxOrig)/(cMax/2);					}				public function remove () {						clip.accelMax=clip.accelMaxBase=clip.accelMaxOrig;			clip.accelF=clip.accelFBase=clip.accelFOrig;			clip.removeSYS ("speedBoost");			clip=null;						}			}	}