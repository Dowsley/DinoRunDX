package fx {		import base.Brain;		import flash.display.MovieClip;		import gfx.DactylFG;
		public class Grabbed {				private var dino:MovieClip;		public var grabber:DactylFG;		public var c:uint=0;		public var cMax:uint;		private var fc:uint=0;		public var grab:Boolean=true;		public var ju:Boolean=false;		private var s1:int;		private var s2:int;		private var s3:int;				public function Grabbed (dino, grabber, ext):void {						this.dino=dino;			this.grabber=grabber;			dino.grabbedBy = grabber;			grabber.grabbing=true;			Brain.dinoGrabbed = true;			cMax=(ext)?dino.rand(140,200):dino.rand(60,160);			if (dino.brain.S.HH)				cMax = dino.rand(350,500);						s1 = Math.round(cMax*.66);			s2 = cMax-35;			s3 = cMax-15;						if (dino.brain.S.mod!="MP"&&!dino.brain.S.cheat) {								//dactyl chainin'				dino.dch++;				var ds:int=dino.dch;				if (ds>4) { ds=4 }				dino.brain.sys.audio.ply ("dc"+ds,.2+(ds*.4),false);				if (dino.dch>1) {										var chainScore=dino.dch*250;					dino.brain.create ( {nam:"ScoreFloat", px:dino.x+30, py:dino.y-42, val:chainScore, depth:["world","main"]} )					dino.brain.sys2.stats.addScore (chainScore);					if (dino.dch>dino.brain.sys2.stats.dactylRides&&dino.dch>dino.brain.sys2.stats.dcLvl&&!dino.brain.S.cheat) { dino.brain.sys2.stats.dcLvl=dino.dch }									}									} 					}				public function main () {						if (grabber.brain!=null) {							dino.near=false;								c++;								if (c==s1 || c==s2 || c==s3)					grabber.squawk();												//done grabbing?				if (c==cMax || grabber.y<300 || grabber.x>(grabber.brain.world.xMax*-1)-((grabber.brain.S.lastLvl || grabber.brain.S.mod=="MP")?5000:1600)) {					letGo();				}								if (grab) {										dino.vel.x=grabber.xm;					dino.vel.y=grabber.ym;										dino.brain.world.ya2=-125-(grabber.ym*10);									} else {										fc++;					if (fc>=20) { remove() }									}							} else {								dino.jumpC=0;				dino.velXMax=dino.vel.x;				dino.baseApp=dino.app="";				grab=false;				remove();							}		}				public function letGo () {						dino.jumpC=0;			dino.velXMax=dino.vel.x;			grab=false;			grabber.grabbing=false;			dino.baseApp=dino.app="";			grabber.feet.gotoAndPlay ("in");			dino.brain.world.ya2=0;			Brain.dinoGrabbed = false;			dino.grabbedBy = null;						}				public function remove () {						Brain.dinoGrabbed = false;			dino.removeSYS ("grabbed");			dino=null;			grabber=null;					}						}	}